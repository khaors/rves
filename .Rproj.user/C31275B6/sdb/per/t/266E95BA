{
    "collab_server" : "",
    "contents" : "#' rves: R package for the interpretation of Vertical Electric Soundings\n#'\n#' This package includes several functions used in the inversion of the VES.\n#'\n#' @section base functions:\n#' This section includes a description of the main\n#'\n#' @docType package\n#' @name rves\nNULL\n#' @title\n#' ves\n#' @description\n#' Function to create a VES object\n#' @param id a character string defining the VES ID\n#' @param ab2 Numeric vector with the values of the electrode spacing\n#' @param apprho Numeric vector with the values of the apparent resistivity\n#' @return\n#' A VES object\n#' @author\n#' Oscar Garcia-Cabrejo \\email{khaors@gmail.com}\n#' @family base functions\n#' @export\nves <- function(id = character(0), ab2 = NULL, apprho = NULL){\n  if(class(ab2) != 'numeric' | class(apprho) != 'numeric'){\n    stop('A numeric vector is required as input')\n  }\n  res <- list(id = id, ab2 = ab2, appres = apprho,\n              interpreted = FALSE,\n              rhopar = NULL,\n              thickpar = NULL,\n              fit.parameters = NULL)\n  class(res) <- 'ves'\n  invisible(res)\n  return(res)\n}\n#' @title\n#' summary.ves\n#' @description\n#' Function to display a short summary of the apparent resistivity data\n#' @param object A VES object\n#' @param ... additional parameters for the data.frame summary function\n#' @return\n#' This function displays on the console a summary of the apparent resistivity data\n#' @author\n#' Oscar Garcia-Cabrejo \\email{khaors@gmail.com}\n#' @family base functions\n#' @import stringi\n#' @export\nsummary.ves <- function(object, ...){\n  ves <- object\n  cat('Pumping Test: '%s+%ves$id%s+%'\\n')\n  pdata <- as.data.frame(cbind(ves$ab2, ves$appres))\n  names(pdata) <- c(\"ab/2\",\"Apparent Resistivity(Ohm.m)\")\n  summary(pdata, ...)\n}\n#' @title\n#' print.ves\n#' @description\n#' Function to print on the screen a VES object\n#' @param x A VES object\n#' @param ... Additional parameters to the data.frame print function\n#' @return\n#' This function prints the information from the VES on the screen\n#' @usage \\\\method{print}{ves}(x, ...)\n#' @author\n#' Oscar Garcia-Cabrejo \\email{khaors@gmail.com}\n#' @family base functions\n#' @import stringi\n#' @export\nprint.ves <- function(x, ...){\n  ves <- x\n  cat('Vertical Electrical Sounding: '%s+%ves$id%s+%'\\n')\n  pdata <- as.data.frame(cbind(ves$ab2, ves$appres))\n  names(pdata) <- c(\"ab/2\",\"Apparent Resistivity(Ohm.m)\")\n  print(pdata, ...)\n}\n#' @title\n#' plot.ves\n#' @description\n#' Function to plot the Vertical Electric Sounding data. This function can create two different\n#' types of plots: resistivity and interpretation. The resistivity plot includes the\n#' apparent resistivity vs electrode spacing. In the interpretation plot, the values of the\n#' apparent resistivity vs electrode spacing and the thickness and real resisitivity of the\n#' layers are included.\n#' @param x A VES object\n#' @param ... Additional parameters to be passed to the plot function\n#' @importFrom grDevices colors\n#' @importFrom graphics plot\n#' @importFrom graphics lines\n#' @export\nplot.ves <- function(x, ...){\n  if(class(x) != 'ves'){\n    stop('A VES object is required as input')\n  }\n  ves <- x\n  plot(ves$ab2, ves$appres, type = 'p', log = 'xy', xlab = 'ab2',\n       ylab = 'Apparent Resistivity(Ohm.m)')\n  if(ves$interpreted){\n    fit.parameters <- ves$fit.parameters\n    nlayers <- fit.parameters$nlayers\n    thick <- fit.parameters$thick\n    rho <- fit.parameters$rho\n    depth <- cumsum(thick)\n    pos_layers <- vector('numeric', length = (nlayers+1))\n    pos_layers[1] <- 1\n    pos_layers[2:(nlayers+1)] <- depth\n    pos_layers1 <- vector('numeric', length = (nlayers*2))\n    rho_layers <- vector('numeric', length = (nlayers*2))\n    for(ilay in 1:nlayers){\n      begin_pos <- (2*ilay-1)\n      end_pos <- (2*ilay)\n      pos_layers1[begin_pos:end_pos] <- c(pos_layers[ilay], pos_layers[ilay+1])\n      rho_layers[begin_pos:end_pos] <- rep(rho[ilay], 2)\n    }\n    lines(pos_layers1, rho_layers, col = 'red')\n  }\n}\n\n\n\n\n",
    "created" : 1493135363573.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "147695192",
    "id" : "266E95BA",
    "lastKnownWriteTime" : 1504397613,
    "last_content_update" : 1504397613219,
    "path" : "~/Oscar/Rfiles/rves/R/ves.R",
    "project_path" : "R/ves.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}